package(default_visibility = ["//visibility:private"])

licenses(["notice"])

config_setting(
    name = "optimal_build",
    values = {"compilation_mode": "opt"},
)

cc_library(
    name = "vulkan",
    srcs = ["lib/libvulkan.so"] + select({
        "optimal_build": [],
        "//conditions:default": ["lib/libVkLayer_khronos_validation.so"],
    }),
    hdrs = glob(["include/vulkan/*.h"]),
    data = glob(["etc/**"]),
    include_prefix = "third_party/vulkan",
    strip_include_prefix = "include/vulkan",
    visibility = ["//visibility:public"],
)
